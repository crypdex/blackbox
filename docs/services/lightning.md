---
title: Lightning Network
sidebar_label: Lightning (LND)
---

<img src="/blackbox/docs/assets/lnd.png"  style="width:40%;"/>

From the LND [docs](https://github.com/lightningnetwork/lnd)

> The Lightning Network Daemon (lnd) - is a complete implementation of a Lightning Network node. lnd has several pluggable back-end chain services including btcd (a full-node), bitcoind, and neutrino (a new experimental light client). The project's codebase uses the btcsuite set of Bitcoin libraries, and also exports a large set of isolated re-usable Lightning Network related libraries within it

## Usage

To use the recipe, configure your `blackbox.yml` file as follows:

```yaml
version: "3.7"

services: 
  lnd_bitcoin:
```

## Environment Variables

When using the service, these environment variables are generated by `blackboxd` with reasonable defaults. You may override them in your shell or `.env` file.

```bash
# Required
BITCOIN_RPCUSER=
BITCOIN_RPCPASSWORD=

# Defaults
BITCOIN_DIR=${DATA_DIR}/bitcoin
LND_DIR=${DATA_DIR}/lnd
```

You may `export` these in the shell before startup, or put them in a `.env` file at the root of the blackbox dir.

## Ports

See the [Decred docs](https://docs.decred.org/faq/configuration/) for more information.

### lnd

> LND ports are not mapped by default. This is because multiple LND instances can run on different chains.

|              | Network Agnostic? |
| ------------ | ----------------- |
| Peer to Peer | 9735              |
| gRPC         | 10009             |
| REST         | 8080              |

By default, these ports are not exposed. To open them, add the `ports` key to the config file.

```yaml
version: "3.7"

services:
  pivx:
    ports:
      - 10009:10009
      ...
```

### `bitcoin`

|                 | Mainnet | Testnet | Regtest |
| --------------- | ------- | ------- | ------- |
| Peer to Peer    | 8333    | 18333   | 18443   |
| JSON RPC Server | 8332    | 18332   | 18442   |
