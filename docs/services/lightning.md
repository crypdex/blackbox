---
title: Lightning Network
sidebar_label: Lightning (LND)
---

<img src="/blackbox/docs/assets/lnd.png"  style="width:40%;"/>

From the LND [docs](https://github.com/lightningnetwork/lnd)

> The Lightning Network Daemon (lnd) - is a complete implementation of a Lightning Network node. lnd has several pluggable back-end chain services including btcd (a full-node), bitcoind, and neutrino (a new experimental light client). The project's codebase uses the btcsuite set of Bitcoin libraries, and also exports a large set of isolated re-usable Lightning Network related libraries within it

## Summary

The Lightning Network Daemon (LND) is implemented for both Bitcoin and Litecoin chains and may be run independently or together. The LND service bundles the primary chain (Bitcoin or Litecoin) due to the specifics of configuration and the need to make sure that tracked versions are compatible.

LND offers an option to choose between `bitcoind` and `btcd` daemon implementations. This implementation currently uses `bitcoind`.

It is possible to use existing Bitcoin and Litecoin data directories from other installations with this service stack as long as the versions are compatible.

## Usage

To use the stack, configure your `blackbox.yml` file as follows:

LND Bitcoin

```yaml
version: "3.7"

services:
  lnd_bitcoin:
```

LND Litecoin

```yaml
version: "3.7"

services:
  lnd_litecoin:
```

Bitcoin, Litecoin, and both LND daemons

```yaml
version: "3.7"

services:
  lnd_bitcoin:
  lnd_litecoin:
```

## Environment Variables

When using this service stack, these environment variables are generated by `blackboxd` with reasonable defaults. You may override them in your shell or `.env` file.

```bash
# Required (if using lnd_bitcoin)
BITCOIN_RPCUSER=
BITCOIN_RPCPASSWORD=

# Required (if using lnd_litecoin)
LITECOIN_RPCUSER=
LITECOIN_RPCPASSWORD=

# Defaults
BITCOIN_DIR=${DATA_DIR}/bitcoin
LND_DIR=${DATA_DIR}/lnd
```

You may `export` these in the shell before startup, or put them in a `.env` file at the root of the blackbox dir.

## Ports

### `lnd`

|              | Network Agnostic? |
| ------------ | ----------------- |
| Peer to Peer | 9735              |
| gRPC         | 10009             |
| REST         | 8080              |

> LND ports are not mapped by default. This is because multiple LND instances can run on different chains such as Bitcoin and Litecoin. If you would like them exposed, you may add the port mappings as follows to the `blackbox.yml` file.

```yaml
version: "3.7"

services:
  lnd_bitcoin:
    ports:
      - 10009:10009
      ...
```

### `bitcoin`

These ports are exposed

|                 | Mainnet | Testnet | Regtest |
| --------------- | ------- | ------- | ------- |
| Peer to Peer    | 8333    | 18333   | 18443   |
| JSON RPC Server | 8332    | 18332   | 18442   |

### `litecoin`

These ports are exposed

|                 | Mainnet | Testnet | 
| --------------- | ------- | ------- | 
| Peer to Peer    | 9333    | 19333   | 
| JSON RPC Server | 9332    | 19332   | 
